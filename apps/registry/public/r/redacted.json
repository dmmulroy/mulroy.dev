{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "redacted",
  "type": "registry:lib",
  "title": "Redacted",
  "description": "Branded type preventing sensitive data from logging/serialization",
  "files": [
    {
      "path": "registry/lib/redacted.ts",
      "content": "/**\n * Branded type representing a value that should not be logged or serialized.\n * Prevents accidental exposure of sensitive data in logs, JSON, or console output.\n * @template A - The type of the underlying secret value\n */\nexport interface Redacted<A> extends Object {}\n\nconst registry = new WeakMap<Redacted<any>, any>();\n\nconst proto = {\n\ttoString() {\n\t\treturn '<redacted>';\n\t},\n\ttoJSON() {\n\t\treturn '<redacted>';\n\t},\n\t[Symbol.for('nodejs.util.inspect.custom')]() {\n\t\treturn '<redacted>';\n\t},\n};\n\n/**\n * Utilities for creating and accessing redacted values.\n * Redacted values hide sensitive data from serialization/logging while\n * allowing controlled access to the underlying value.\n *\n * @example\n * ```ts\n * const secret = Redacted.make('api-key-123');\n * console.log(secret);        // '<redacted>'\n * JSON.stringify(secret);     // '\"<redacted>\"'\n * Redacted.value(secret);     // 'api-key-123'\n * ```\n */\nexport const Redacted = {\n\t/**\n\t * Wraps a value in a redacted container.\n\t * @template A - The type of value to redact\n\t * @param value - The sensitive value to protect\n\t * @returns A redacted wrapper that hides the value from serialization\n\t */\n\tmake<A>(value: A): Redacted<A> {\n\t\tconst redacted = Object.create(proto);\n\t\tregistry.set(redacted, value);\n\t\treturn redacted;\n\t},\n\t/**\n\t * Extracts the underlying value from a redacted container.\n\t * @template A - The type of the redacted value\n\t * @param self - The redacted container\n\t * @returns The original unwrapped value\n\t * @throws {Error} If the redacted value is not in the registry\n\t */\n\tvalue<A>(self: Redacted<A>): A {\n\t\tconst value = registry.get(self);\n\n\t\tif (value === undefined) {\n\t\t\tthrow new Error('Redacted value was not in registry');\n\t\t}\n\n\t\treturn value;\n\t},\n} as const;\n",
      "type": "registry:lib",
      "target": "lib/redacted.ts"
    }
  ]
}